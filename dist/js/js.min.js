(function () {
    var hamburger = document.getElementById("hamburger"),
        menuList = document.getElementById("menu"),
        body = document.getElementsByTagName('body')[0],
        header = document.getElementById("header");
    hamburger.addEventListener("click", function (e) {
        hamburger.classList.toggle("hamburger--open");
        menuList.classList.toggle("header__menu--visible");
        body.classList.toggle("no-scroll");
        header.classList.toggle("header--prior")
    }, false);
})();

(function () {
    var closePopupBtn = document.getElementById("close-product-cart"),
        popup = document.getElementById("product-popup"),
        productImg = document.getElementsByClassName("products-list__item-img"),
        productName = document.getElementsByClassName("products-list__item-name"),
        body = document.getElementsByTagName("body")[0];
    if ( popup ) {
        closePopupBtn.addEventListener("click", function (e) {
            popup.classList.remove("product-popup--active");
            body.classList.remove("no-scroll");
        });
        for (var w = 0; w < productName.length; w++) {
            console.log(w);
            productName[w].addEventListener("click", function (e) {
                e.preventDefault();
                popup.classList.add("product-popup--active");
                body.classList.add("no-scroll");
            })
        }
        for (var i = 0; i < productImg.length; i++) {
            productImg[i].addEventListener("click", function (e) {
                e.preventDefault();
                popup.classList.add("product-popup--active");
                body.classList.add("no-scroll");
            })
        }
    }
    // var req = getXmlHttp();
    // req.onreadystatechange = function () {
    //     if (req.readyState == 4) {
    //         if (req.status == 200) {
    //             var sessionAnw = req.responseText;
    //             totalItems.innerHTML = sessionAnw;
    //         }
    //     }
    // };
    //
    // req.open('POST', "link_here", true);
    // req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    // req.send(info);
})();
(function () {
    (function () {
        equalHeight(false);
    })();

    window.onresize = function () {
        equalHeight(true);
    };

    function equalHeight(resize) {
        var elements = document.getElementsByClassName("products-list__item-name"),
            allHeights = [],
            i = 0;
        if (elements) {
            if (resize === true) {
                console.log("this is true")
                for (i = 0; i < elements.length; i++) {
                    elements[i].style.height = 'auto';
                }
            }
            for (i = 0; i < elements.length; i++) {
                var elementHeight = elements[i].clientHeight;
                allHeights.push(elementHeight);
            }
            for (i = 0; i < elements.length; i++) {
                elements[i].style.height = Math.max.apply(Math, allHeights) + 'px';
                if (resize === false) {
                    elements[i].className = elements[i].className + " show";
                }
            }
        }
    }
})();

